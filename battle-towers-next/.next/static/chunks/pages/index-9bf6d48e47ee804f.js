(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9795:function(e){e.exports="/_next/static/audio/confirmMenu.wav"},8572:function(e){e.exports="/_next/static/audio/enemyDead.wav"},3756:function(e){e.exports="/_next/static/audio/enemyHit.wav"},647:function(e){e.exports="/_next/static/audio/lostLife.wav"},6138:function(e){e.exports="/_next/static/audio/nextGamePart.wav"},1430:function(e){e.exports="/_next/static/audio/towerPlace.wav"},8487:function(e){e.exports="/_next/static/audio/gameOverSoundtrack.wav"},8287:function(e){e.exports="/_next/static/audio/world3Soundtrack.wav"},1301:function(e){e.exports="/_next/static/audio/menuSoundtrack.mp3"},1813:function(e){e.exports="/_next/static/audio/winSoundtrack.mp3"},2698:function(e){e.exports="/_next/static/audio/world1Soundtrack.mp3"},5983:function(e){e.exports="/_next/static/audio/world2Soundtrack.mp3"},8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9151)}])},9151:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return t0}});var i,a,n,r,l,o,A,h,d,c,g,u,m,x,p,v,y,w,E,f,S=s(5893),b=s(9008),C=s.n(b),N=s(7294),R=s(7421),j={src:"/_next/static/media/shield.90da774b.png",height:428,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAYAAAA1BOUGAAAAyElEQVR42mPQZmDg0WJgEJfwDgzkT8yYJu4TFALkSwDFeRkEY5KbWfLLLzMUV39iKK39D6Q/A/lXhGKSOhg4MwvmQgVB+B+IBvGB4osZeNPyahnK6kACf5Fp3vS8JgaxpEx7ht7pXxl6pv0H4r8gGsj/IZqc7cwQzcDAzDZ35WKGNTv/M6zY+gtEs89dsSKAgYGFQUHPEIQVWDYdOMiw78x/1k37jypY2ikxgMHJG4wKLEwMQKwqOG1hi7yiigbDsasMDMeuMgEA4llScZ9SM2kAAAAASUVORK5CYII=",blurWidth:7,blurHeight:8},_=s(2820),U=s.n(_);let M=e=>{let{setChangeState:t}=e,s=(0,N.useRef)(null),i=(0,N.useRef)(null),a="For best experience and properly game working, we recommend min resolution 1280 x 768.",[n,r]=(0,N.useState)(""),[l,o]=(0,N.useState)("Accept"),A=(0,R.q_)({from:{opacity:0},to:{opacity:1},delay:1e3}),h=()=>{let e=s.current,a=i.current;e&&a&&(e.classList.add(U().fadeOut),setTimeout(()=>{o("Have a nice play :)"),a.classList.add(U().fadeIn),e.classList.add(U().fadeIn)},400)),setTimeout(()=>{t(!0)},2e3)};return(0,N.useEffect)(()=>{let e=0,t=0,s="",n=setInterval(()=>{++t>=30&&(s+=a[e],++e>=a.length?clearInterval(n):r(s))},50);setTimeout(()=>{let e=i.current;e&&(null==e||e.classList.add(U().visible))},5e3)},[]),(0,S.jsxs)("section",{className:U().introState,children:[(0,S.jsxs)(R.q.h2,{className:U().attention,style:A,children:[(0,S.jsx)("span",{children:"Attention!"})," ",n,(0,S.jsx)("span",{children:"|"})]}),(0,S.jsx)("button",{ref:i,className:U().introButton,onClick:h,children:(0,S.jsx)("span",{className:U().btnInfo,ref:s,children:l})})]})};var I=s(2695),B=s.n(I);(i=g||(g={}))[i.WIDTH=1280]="WIDTH",i[i.HEIGHT=768]="HEIGHT",(a=u||(u={}))[a.UNPLAYED=0]="UNPLAYED",a[a.WIN=1]="WIN",a[a.DEFEAT=2]="DEFEAT",(n=m||(m={}))[n.LEFT=0]="LEFT",n[n.RIGHT=1]="RIGHT",n[n.TOP=2]="TOP",n[n.BOTTOM=3]="BOTTOM",(r=x||(x={})).WAVE="wave",r.LEVEL="level",r.WORLD="world",r.START="start",(l=p||(p={}))[l.FAILURE=0]="FAILURE",l[l.SUCCESS=1]="SUCCESS",l[l.INFO=2]="INFO",(o=v||(v={}))[o.ENEMIES=0]="ENEMIES",o[o.TOWERS=1]="TOWERS",o[o.RULES=2]="RULES",(A=y||(y={}))[A.LEFT=0]="LEFT",A[A.RIGHT=1]="RIGHT",(h=w||(w={}))[h.SOLDIER_ORC=100]="SOLDIER_ORC",h[h.SCOUT_ORC=50]="SCOUT_ORC",h[h.WARRIOR_ORC=200]="WARRIOR_ORC",(d=E||(E={}))[d.NONE=0]="NONE",d[d.NEW_TOWER=1]="NEW_TOWER",d[d.UPGRADE_TOWER=2]="UPGRADE_TOWER",(c=f||(f={}))[c.CANNON=0]="CANNON",c[c.MINIGUN=1]="MINIGUN",c[c.MISSILE=2]="MISSILE";var D=s(619),L=s(8487),O=s.n(L),T=s(1813),W=s.n(T),G=s(1301),P=s.n(G);let Q=(0,N.createContext)(null),V=e=>{let{children:t}=e,[s,{stop:i}]=(0,D.Z)(P(),{volume:.5,interrupt:!0,loop:!0}),[a,{stop:n}]=(0,D.Z)(O(),{volume:.5,interrupt:!0,loop:!0}),[r,{stop:l}]=(0,D.Z)(W(),{volume:.5,interrupt:!0,loop:!0}),[o,A]=(0,N.useState)(!1),[h,d]=(0,N.useState)(u.UNPLAYED),[c,g]=(0,N.useState)(1),[m,x]=(0,N.useState)(1),[p,v]=(0,N.useState)("Desert"),[y,w]=(0,N.useState)(10),[E,f]=(0,N.useState)(100),[b,C]=(0,N.useState)(0),[R,j]=(0,N.useState)([]);return(0,S.jsx)(Q.Provider,{value:{isGameStart:o,setIsGameStart:A,endGame:h,setEndGame:d,wave:c,setWave:g,level:m,setLevel:x,world:p,setWorld:v,life:y,setLife:w,money:E,setMoney:f,score:b,setScore:C,logs:R,setLogs:j,playMenu:s,stopMenu:i,playGameOver:a,stopGameOver:n,playWin:r,stopWin:l},children:t})};var F={src:"/_next/static/media/next.d322f81f.png",height:629,width:629,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAgUlEQVR42i3MMQ5BQRQF0JtIJAql2KZGYwE0dqBSqSxBIVGQWAFRUPwgEz+Sb3gz8+7V/LOAA8GHXPHOyhfffgY04EktHl49+FIq5iz8GFVmaK5BgUEPPT3Lj7DLWxVr1YreKO3hcykZXc4k/cY4d8umLZXWAiKmHZvkXd7GkXDDHxMka8QtPA+8AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},H=s(1430),K=s.n(H),Y=s(9795),z=s.n(Y),k=s(5675),Z=s.n(k),J=s(1653),q=s.n(J);let X=e=>{let{name:t,click:s}=e,[i]=(0,D.Z)(z()),[a,{stop:n}]=(0,D.Z)(K());return(0,S.jsx)("div",{onClick:()=>i(),onMouseEnter:()=>a(),onMouseLeave:()=>n(),className:q().btnWrapper,children:(0,S.jsxs)("button",{className:q().button,onClick:s,children:[t,(0,S.jsxs)("div",{id:q().clip,children:[(0,S.jsx)("div",{id:q().leftTop,className:q().corner}),(0,S.jsx)("div",{id:q().rightBottom,className:q().corner}),(0,S.jsx)("div",{id:q().rightTop,className:q().corner}),(0,S.jsx)("div",{id:q().leftBottom,className:q().corner})]}),(0,S.jsx)("span",{id:q().rightArrow,className:q().arrow}),(0,S.jsx)("span",{id:q().leftArrow,className:q().arrow})]})})};var $=s(2446),ee=s.n($),et={src:"/_next/static/media/enemies.c8fe280c.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAWUlEQVR42h3GoQ2DUAAFwBOtZQDE7wiM0MlqGKKqFa3/rEKCI2ELJCTwQs4c3P1t8XMDvg57HD5QrOklK3RmrSXarIO3QY0hA0VvjN4DeKmeUTPQmOwxaTgBAqsf18abQSEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},es={src:"/_next/static/media/towers.25ee18ed.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAATklEQVR42lWKMQqAMBAEp7IMCGqrjb+4gIX/b/QJNuYTyXKEhMw0w7KIhYOVjV3l3CQeXn6VY+Sq4cQ2xP745PA4ZXtcyllmlRMwJmkEKKgaF78XC9A8AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},ei={src:"/_next/static/media/rules.c1995c2e.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAaklEQVR42g3BIQrCAAAAwGtmwbBkFIvR5rIoNpN1GhRkIOqCQ9GFIYhYZQsLy/vjdgc7T1d5t5bQ9xBaIHD3YyC29TY3UsoInG3kvpYO0LO3lnlZOUKklvqLDZ2gMTUT+hi7QSSVuKgUJrT+yBagwdUWGQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},ea={src:"/_next/static/media/substructure.acadfaf7.png",height:234,width:234,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABE0lEQVR4nAEIAff+AQMHEAD9+vSXgIKDaCkpKf/7+/oBBAME/7W0skg4OTm6ATEzNZcsLTBoNTY2APn8AP/7/v7/MCklAgIB//eko6FQAUpMUP9BQ0QA0dba/w/suwEZFhQA1/0x/l5ZUwL08/L/AVRWWP4jKC0A5MmlAT0n8AAWEQIA1+gfAAsyZ/4eGBICAVNVV/8nLDH+38ShAkUv9wAEAwAA0eENACZIev8aFhIAATw+Qf5AQkQB6Ovu/vjbsgIEBAgAACBG/z03MwHv7u0AAQEBA0ZJS0ywOz0+CfH0+P4GBgUBGhcVAdra2gCurKukASYoKgDn5uRGNjc6uBEREQEFBQT//wABAeLg4KQDBgpd3Kdm47pRM1kAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};let en=()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h2",{className:ee().rulesHeader,children:"Getting Stared"}),(0,S.jsxs)("p",{className:ee().rulesParagraph,children:["Your goal is to defend each of the three worlds from the dangerous orcs without losing all your lives. To do this, you need to build towers, each of them are better or worse against different types of enemies (details can be found in the ",(0,S.jsx)("strong",{children:"Towers"})," tab). If you defeat an orc you will increase your score and receive a certain amount of money which you can build or upgrade towers. But beware, there are different types of orcs that will make it difficult to reach your goal. (Detailed information can be found in the ",(0,S.jsx)("strong",{children:"Enemies"})," tab)."]}),(0,S.jsx)("h2",{className:ee().rulesHeader,children:"Worlds"}),(0,S.jsx)("p",{className:ee().rulesParagraph,children:"Defense is not easy, because you have to survive three worlds, each of them has 3 levels, and in each level you have to survive 3 waves, each wave is more dangerous than the previous one."}),(0,S.jsx)("h2",{className:ee().rulesHeader,children:"Resources"}),(0,S.jsxs)("p",{className:ee().rulesParagraph,children:["You start the game with ",(0,S.jsx)("strong",{className:ee().health,children:"10 lives"})," and ",(0,S.jsx)("strong",{className:ee().money,children:"100 bills"}),". For each survived world your bills are set to ",(0,S.jsx)("strong",{className:ee().money,children:"100 bills"}),", ",(0,S.jsx)("strong",{className:ee().money,children:"200 bills"})," or ",(0,S.jsx)("strong",{className:ee().money,children:"300 bills"})," according to current world. For each survived level to your starting bills will be added ",(0,S.jsx)("strong",{className:ee().money,children:"20 bills"})," extra for building or upgrading towers. If you survive world you get ",(0,S.jsx)("strong",{className:ee().health,children:"3 lives"})," extra! Your score is the sum of each orc you defeat plus ",(0,S.jsx)("strong",{children:"100 points "})," for ",(0,S.jsx)("strong",{className:ee().health,children:"each life"})," you have saved, which is added at the end of the game."]}),(0,S.jsx)("h2",{className:ee().rulesHeader,children:"Placing Towers"}),(0,S.jsxs)("p",{className:ee().rulesParagraph,children:[(0,S.jsx)("span",{children:"You can place the towers only on specific placement"}),(0,S.jsx)(Z(),{src:ea,alt:"Substructure of tower"}),(0,S.jsx)("span",{children:"If the substructure is hovered over, it will be highlighted"})]}),(0,S.jsx)("h2",{className:ee().rulesHeader,children:"Tactical Mode"}),(0,S.jsxs)("p",{className:ee().rulesParagraph,children:["Click on ",(0,S.jsx)("strong",{children:(0,S.jsx)("i",{className:"fa fa-pause-circle-o","aria-hidden":"true"})})," visible on bottom right corner while playing to activate tactical mode. When tactical mode is active, time freezes, but you can place towers in a more thoughtful way. "]}),(0,S.jsx)("h2",{className:ee().goodLuck,children:"Have fun and good luck!"})]});var er={src:"/_next/static/media/soldierOrc.b8e94008.png",height:1171,width:1359,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/AZF6NgXu3u37E+/0cx09H4cDIhWKTgYSfwASEf2a5+ABAWJmLgDo6fVBNy8Xui0uFwT8/gEACwYIcBMUB5Hk4PAFAQAAABuSlEbJ9PgAGxQOFPgGB/UIFRIWddvW4oxvdnABAXuCO5FEQCZu5OPx+uTp7gULCQkBFxYPSVdTqPeGYCTXAWdlLNYwJxYp+gQF/xMWCwDu4e8B49rpuL6k2EguNA1lAYWEPq0fGQ5SyMLi+xQTCwUCCQX/9fP1iM6dzWcpMhHdAebseg3HyOM37OnwmfDu+P0QDQlnyJKyvxkUD0wHCATyXntgvW+dGvQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7},el={src:"/_next/static/media/scoutOrc.c5bd1968.png",height:1208,width:1433,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA3ElEQVR42mNIyBBhZQACBysGXVd/j4/BCY2VIH5sSA4LAwwUpnM7TO6Rf7Fwusz/eVONPxzZ5SIDEt+7cwZIEQtLVR3fnY5u4//zp7n+Wr5U+/+etbEGDDCQkcNQvGmz1v+5C+V/NvUL/O/slv+6Y6WmCEhu+/ZtJgzBDqbnSkNM/s+aJfVn7kK1//XpBv+78nwLWjt76g8ePHCRoalOZd+8aRr/m2o9/7c3Jn7pqGW4vnJe3bEt2/bU3rh2SYlh+z4GpfVb5eumzVL4XFOptvr/nxKm/8cZmGBOAACNSlsaWqXIdQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},eo={src:"/_next/static/media/warriorOrc.11befdfc.png",height:1231,width:1462,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA5klEQVR42mPISwtnZQCC+KS0oNbGxi/9Pa1LGaCgraGHkQEEkvkZpJOjPT/UN2X/n9gZ939yu20QAxDMn5HPwsBgnyNRUZR9IT9c5f/0KXY/l0xT+r9gHoMdAwz4OpnNmDOj/X9rkduvhliG/9NrGf6cOzIr+vrN++mHDu6RYWjLZlizY6H4/8J0/z/xgf7/l/Ty/F86u/Rk/4SpXxZM61BgaM+TmLh5rtz/1lKX/02FXn8n1EpcLoxiLZo6ZdqPA/v3pjHM65QRXzlVKmtOG8uLOa3cRxiA4N///zxXr17JO3f+vAYAcjti9ihTvBsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7},eA=JSON.parse('{"u2":"Soldier","mZ":100,"CZ":5,"NS":4,"Gs":8}'),eh=JSON.parse('{"u2":"Scout","mZ":50,"CZ":10,"NS":6,"Gs":6}'),ed=JSON.parse('{"u2":"Warrior","mZ":200,"CZ":15,"NS":2,"Gs":16}');let ec=e=>{let{name:t,img:s,health:i,money:a,speed:n,score:r,opponent:l}=e;return(0,S.jsxs)("div",{className:ee().card,children:[(0,S.jsxs)("h3",{children:[t," Orc"]}),(0,S.jsx)("div",{className:ee().imgWrapper,children:(0,S.jsx)(Z(),{src:s,alt:"".concat(t," Orc")})}),(0,S.jsxs)("p",{className:ee().health,children:["Health: ",i]}),(0,S.jsxs)("p",{className:ee().money,children:["Money: ",a]}),(0,S.jsxs)("p",{className:ee().speed,children:["Speed: ",n," FPS"]}),(0,S.jsxs)("p",{className:ee().score,children:["Score: ",r]}),(0,S.jsxs)("p",{className:ee().opponent,children:[(0,S.jsx)("span",{children:"Best tower"}),(0,S.jsx)("span",{children:l})]})]})},eg=()=>(0,S.jsxs)("div",{className:"".concat(ee().cards," ").concat(ee().enemies),children:[(0,S.jsx)(ec,{name:eA.u2,img:er,health:eA.mZ,money:eA.CZ,speed:eA.NS,score:eA.Gs,opponent:"Cannon"}),(0,S.jsx)(ec,{name:eh.u2,img:el,health:eh.mZ,money:eh.CZ,speed:eh.NS,score:eh.Gs,opponent:"Minigun"}),(0,S.jsx)(ec,{name:ed.u2,img:eo,health:ed.mZ,money:ed.CZ,speed:ed.NS,score:ed.Gs,opponent:"Missile"})]});var eu={src:"/_next/static/media/cannon1.d909bbd4.png",height:253,width:139,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAICAYAAADeM14FAAAAhUlEQVR42mMAgYiUnN0xGQUHgJgBDAJi0vaGJGQfBmKIQHRGweWojIIbQMzAEMXAaRUUm/4zJD7jdzIDgy3DPBPnF+s9ov5v9Iz5v9TK6xVDj5L+39X61v9Xm9v+61Mx+sfQrWz0f5GJ7f9lTvb/+1RM/zMUKxmeLVM0+l8ibfC/VMX4PABWhDPTuzay4QAAAABJRU5ErkJggg==",blurWidth:4,blurHeight:8},em={src:"/_next/static/media/mg1.032d6c81.png",height:229,width:110,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAICAYAAADeM14FAAAAgElEQVR42mPwCo1hYQACG1fvZeYObo0MudWtzCABr5DoA67+YZMYPJuKOUACrgFhBx29g6YwwEBEUvbd0PiM3QyKDUlVEmnec7Q70/9rNiT9ZFDsSv6vnRv2X3FS2l/59vj/DIKR1nFCZlqXlbtT/svVRP6HGaEimuj0RzjK7gEAB6wpVMm/H80AAAAASUVORK5CYII=",blurWidth:4,blurHeight:8},ex={src:"/_next/static/media/missile1.1092121b.png",height:225,width:136,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAAs0lEQVR4nAGoAFf/AQBPbiMfHhjBFcis0OYvTzDm4ug/AQBOdiElJBnWIdvBCN0dO/jd2OUqAQlUeCQZHRXPHNO4DOMiQ/Tl3ucxAQAiahciSyLdIuDGC94fOvXelNEjAUBSY7LiFiJNFsmPAOszbgAi8uS1AU1ZYv/MEyz/CRcdAfLp5P8+8tkBATNCU9HkO2MuHhEL/RP26QPrxbbQAQAAABMTYonJEScgIwHd393bmng30lBGidELeGUAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8},ep={src:"/_next/static/media/cannon2.a927c877.png",height:286,width:202,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAYAAADaxo44AAAAuUlEQVR42h3JMQ4BQRQG4P/NvFlrG4lGiFaBSESn0LqAQql0FIme1glchUJo1CIUIpi1a3bnCV/7EQCMJtMFBDWl1Vsp5QBM+BeSfNhDjAdlmlkA4B+nKKwXRJo2TT/FMDj/Y9UezF7PZBizIXglxee7UToc57Rs96UWRtDlCLn1YOdwyRzYpglio0UnlvIHwwRG7vZBfCPeWScdcwvEK480jslB7wlAZdzqbUsmqOZZhrv46/qw6X4BbgVQ0/weno8AAAAASUVORK5CYII=",blurWidth:6,blurHeight:8},ev={src:"/_next/static/media/mg2.368e21ec.png",height:239,width:218,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAYAAAA1BOUGAAAAzElEQVR42mMAASMrexk7d99jQCa3pZPHMW0jcxkGGDCzddbwDY+7C2SK+YTF3TW2dtSAS+o7OWq5B0eCJEWd/ELu6jo6aMElbRgstaMTcr8AmVoxCTlfHIB8BhCQb0isU84N2WzRmvNfItTpoGVH/n/VwojNCs2pdQzKrQn/NfJD/8tOy/orGu38XwZI6xRG/AeJM3DoS/uKBdteVp+W91/Bz/mP6oTM/yK+ZpfZlLl9GUCAz904UzzN/b+Yo8lWiQzP//zeZpkMDAwMANzVP6ws03kvAAAAAElFTkSuQmCC",blurWidth:7,blurHeight:8},ey={src:"/_next/static/media/missile2.318f0443.png",height:188,width:188,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA/UlEQVR42mOAAtV0MYZd4QwMhWFsDIXpQgy7GBgYZBlgQDm66qBx6cz/5tXT/ptXTv1vXDb7v0JM1W4GKOAXSZx2W7rj+H+5SYd+S/Xt/y0OZIunz7oDkmPw9ve5qxLT+1+ufu8/xbYt/9WalvzXalrzTyW+/39gWNgDhpDo2P9K8RP+KjTt/y/VvfO/Te/i/wEdC/9LJEz6G52U+p/BwdH2jWJM93/Z5oN/lXp2/Vfs2/lfquvAX6Wo7v8ePl6vGIBAQNwt86R8+rT/ikXz/igVzf8jnzLtv4R38UmwG0BA2sA2UNcx+L+ZZ8Qfc9+4P9r2/v/FVHUCGRgYGABEWmbi5xa4qQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},ew={src:"/_next/static/media/cannon3.1253c34d.png",height:276,width:202,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAYAAADaxo44AAAAwElEQVR42mOAAuGE3PIvKUXV/xgYGOQYYICTgcE4MCr5f2h85n9xBgZzBjgws52aWN74P7W69T+DnesUsNgSfYcV070i/pck5f8rTcr7N9U36v8KY9dVDNM1Lf6vMXf5v9rd+f9SI6f/60xc/s/Qtf7PMFHT7P9yY8d/y4wt/q/Us/2/2sjp3ww9u/8MNZqWNxo1Lf8369j9a9S2/FetZPC/UtX0FgMDA7NUtIz6s0gd0/+h2ib/o2RUXzAwMMgAALfaRyi5NoLtAAAAAElFTkSuQmCC",blurWidth:6,blurHeight:8},eE={src:"/_next/static/media/mg3.0b6b7c17.png",height:259,width:166,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAICAYAAAAx8TU7AAAApElEQVR42mNw9ApgYQACaxfPoqDYlP/65rahDHbufqwgQXMn94qQxMz/xrZO0QwWFUnsIEEzI/uUgKiU/+qS2q4MMGAcFtAXmpHzX9vbpZRBrTV1p0l29HGd+oT/+nMK/ys3J/1nUKqN+G/q4/XftDTmr9ys7P9qvXl/GQQzXMIZnNVr5DsS/mssLP6n1Jb8nwEEmBgYOMVSXR9KFvj8F4lzugEAl1o1JlqXvlsAAAAASUVORK5CYII=",blurWidth:5,blurHeight:8},ef={src:"/_next/static/media/missile3.c38eb9e0.png",height:198,width:208,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA/klEQVR42g3NPUoDURSG4e+cezJxlDgWIRAkREUFnQWoINiksLETd6Cd21CwF1yBP7uwcQGxUaYTEjREEpI4Gefn3pN527d4SFVx7NPpXhPXeYqBIyQeYfOjh7s31Vchouru5c1D0mi2nUOZgqWC2fB7p3yhACjGSxsyD1ogtRYMQKomHcsyAGc6nZPneC08NL4S5/9sbMqejUHj2co+RyHX6q0LVA3BA3IBVjlHKL/IhClobJ+zK2E7nULV1wr7mJoaunZdK5MRwQiMl31FMdUP7DwLdDJyxXCgxU+f3SDqJd3HK3mPJk9bR2ftQJJbkDhmhi0yHv3N7j/7+rIA7bFqzfM2gG8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},eS=JSON.parse('{"name":"Cannon","levels":[{"level":1,"damage":20,"money":30,"speed":2},{"level":2,"damage":30,"money":40,"speed":3},{"level":3,"damage":40,"money":50,"speed":4},{"level":0,"damage":0,"money":0,"speed":0}]}'),eb=JSON.parse('{"name":"Minigun","levels":[{"level":1,"damage":10,"money":40,"speed":4},{"level":2,"damage":20,"money":50,"speed":5},{"level":3,"damage":30,"money":60,"speed":6},{"level":0,"damage":0,"money":0,"speed":0}]}'),eC=JSON.parse('{"name":"Missile","levels":[{"level":1,"damage":40,"money":50,"speed":1},{"level":2,"damage":50,"money":60,"speed":2},{"level":3,"damage":60,"money":70,"speed":3},{"level":0,"damage":0,"money":0,"speed":0}]}');let eN=e=>{let{name:t,img:s,damage:i,money:a,speed:n,opponent:r}=e;return(0,S.jsxs)("div",{className:ee().card,children:[(0,S.jsxs)("h3",{children:[t," Tower"]}),(0,S.jsx)("div",{className:ee().imgWrapper,children:(0,S.jsx)(Z(),{src:s,alt:"".concat(t," Tower")})}),(0,S.jsxs)("p",{className:ee().health,children:["Damage: ",i]}),(0,S.jsxs)("p",{className:ee().money,children:["Money: ",a]}),(0,S.jsxs)("p",{className:ee().speed,children:["Speed: ",n," FPS "]}),(0,S.jsxs)("p",{className:ee().opponent,children:[(0,S.jsx)("span",{children:"Best target"}),(0,S.jsxs)("span",{children:[r," Orc"]})]})]})},eR=()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h2",{children:"Level 1"}),(0,S.jsxs)("div",{className:ee().cards,children:[(0,S.jsx)(eN,{name:"Cannon",img:eu,damage:eS.levels[0].damage,money:eS.levels[0].money,speed:eS.levels[0].speed,opponent:"Soldier"}),(0,S.jsx)(eN,{name:"Minigun",img:em,damage:eb.levels[0].damage,money:eb.levels[0].money,speed:eb.levels[0].speed,opponent:"Scout"}),(0,S.jsx)(eN,{name:"Missile",img:ex,damage:eC.levels[0].damage,money:eC.levels[0].money,speed:eC.levels[0].speed,opponent:"Warrior"})]}),(0,S.jsx)("h2",{children:"Level 2"}),(0,S.jsxs)("div",{className:ee().cards,children:[(0,S.jsx)(eN,{name:"Cannon",img:ep,damage:eS.levels[1].damage,money:eS.levels[1].money,speed:eS.levels[1].speed,opponent:"Soldier"}),(0,S.jsx)(eN,{name:"Minigun",img:ev,damage:eb.levels[1].damage,money:eb.levels[1].money,speed:eb.levels[1].speed,opponent:"Scout"}),(0,S.jsx)(eN,{name:"Missile",img:ey,damage:eC.levels[1].damage,money:eC.levels[1].money,speed:eC.levels[1].speed,opponent:"Warrior"})]}),(0,S.jsx)("h2",{children:"Level 3"}),(0,S.jsxs)("div",{className:ee().cards,children:[(0,S.jsx)(eN,{name:"Cannon",img:ew,damage:eS.levels[2].damage,money:eS.levels[2].money,speed:eS.levels[2].speed,opponent:"Soldier"}),(0,S.jsx)(eN,{name:"Minigun",img:eE,damage:eb.levels[2].damage,money:eb.levels[2].money,speed:eb.levels[2].speed,opponent:"Scout"}),(0,S.jsx)(eN,{name:"Missile",img:ef,damage:eC.levels[2].damage,money:eC.levels[2].money,speed:eC.levels[2].speed,opponent:"Warrior"})]})]});var ej=s(7814),e_=s(9417);let eU=e=>{let{isHelpOpen:t,setIsHelpOpen:s}=e,[i]=(0,D.Z)(z()),[a]=(0,D.Z)(K()),n=(0,R.q_)({from:{opacity:t?0:1,translateY:t?"-100vh":"0"},to:{opacity:t?1:0,translateY:t?"0":"-100vh"},config:{duration:200}}),[r,l]=(0,N.useState)(v.RULES),o=(e,t)=>{var s;let a=document.querySelectorAll("article");a.forEach(e=>{e.classList.remove(ee().active)});let n=e.target;null===(s=n.closest("article"))||void 0===s||s.classList.add(ee().active),l(t),i()},A=()=>{s(!t),i()},h=e=>{let t=e.target;t.classList.contains(ee().active)||a()};return(0,N.useEffect)(()=>{let e=document.querySelector(ee().battleJournal);e&&e.classList.add(ee().active)},[]),(0,S.jsx)(R.q.section,{className:"".concat(ee().battleJournal," ").concat(t&&ee().active),style:n,children:(0,S.jsxs)("div",{className:ee().modal,children:[(0,S.jsx)("h3",{className:ee().header,children:"Battle Journal"}),(0,S.jsxs)("div",{className:ee().articles,children:[(0,S.jsxs)("article",{className:ee().active,onMouseEnter:e=>h(e),onClick:e=>o(e,v.RULES),children:[(0,S.jsx)(Z(),{src:ei,alt:"Rules icon"}),(0,S.jsx)("h3",{children:"Rules"})]}),(0,S.jsxs)("article",{onMouseEnter:e=>h(e),onClick:e=>o(e,v.ENEMIES),children:[(0,S.jsx)(Z(),{src:et,alt:"Enemies icon"}),(0,S.jsx)("h3",{children:"Enemies"})]}),(0,S.jsxs)("article",{onMouseEnter:e=>h(e),onClick:e=>o(e,v.TOWERS),children:[(0,S.jsx)(Z(),{src:es,alt:"Towers icon"}),(0,S.jsx)("h3",{children:"Towers"})]})]}),(0,S.jsxs)("div",{className:ee().content,children:[r===v.RULES&&(0,S.jsx)(en,{}),r===v.ENEMIES&&(0,S.jsx)(eg,{}),r===v.TOWERS&&(0,S.jsx)(eR,{})]}),(0,S.jsx)("div",{onMouseEnter:()=>a(),onClick:A,className:ee().close,children:(0,S.jsx)(ej.G,{icon:e_.NBC,"aria-hidden":!0})})]})})},eM=()=>{let{isGameStart:e,setIsGameStart:t,playMenu:s,stopMenu:i}=(0,N.useContext)(Q),[a]=(0,D.Z)(z()),[n]=(0,D.Z)(K()),[r,l]=(0,N.useState)({width:0,height:0}),[o,A]=(0,N.useState)(!1),[h,d]=(0,N.useState)(!1),[c,g]=(0,N.useState)(!1),u=(0,R.q_)({from:{opacity:0},to:{opacity:1}}),m=()=>{let e=window.innerWidth,t=window.innerHeight;l({width:e,height:t}),e<1280||t<768?A(!1):A(!0)},x=()=>{i(),t(!e)},p=()=>{a(),d(!h),g(!0)};return(0,N.useEffect)(()=>(m(),s(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),(0,S.jsxs)(R.q.div,{style:u,children:[(0,S.jsx)("div",{className:B().btn,children:(0,S.jsx)(X,{name:"Play",click:x})}),(0,S.jsxs)(R.q.div,{className:B().menuState,style:u,children:[(0,S.jsxs)("div",{className:B().powered,children:[(0,S.jsx)("span",{children:"Powered by Next"}),(0,S.jsx)(Z(),{src:F,alt:"Next logo"})]}),(0,S.jsxs)("div",{className:B().journal,children:[(0,S.jsx)("div",{onClick:p,onMouseEnter:()=>n(),className:B().icon,children:(0,S.jsx)(ej.G,{icon:e_.FL8,"aria-hidden":!0})}),(0,S.jsx)("span",{children:"Battle Journal"})]}),(0,S.jsxs)("div",{className:o?"".concat(B().resolutionSuccess):"".concat(B().resolutionError),children:["Your resolution: ",r.width," x ",r.height,(0,S.jsx)("div",{className:B().icons,children:o?(0,S.jsx)(ej.G,{icon:e_.f8k,"aria-hidden":!0}):(0,S.jsx)(ej.G,{icon:e_.nYk,"aria-hidden":!0})})]}),(0,S.jsxs)("div",{className:B().score,children:["Best score: ","0"===localStorage.getItem("score")?0:localStorage.getItem("score")]})]}),c&&(0,S.jsx)(eU,{isHelpOpen:h,setIsHelpOpen:d})]})};var eI=s(8468),eB=s.n(eI),eD=s(2728),eL=s.n(eD),eO=s(2278),eT=s.n(eO),eW=s(647),eG=s.n(eW),eP=s(8572),eQ=s.n(eP),eV=s(3756),eF=s.n(eV),eH=s(6138),eK=s.n(eH),eY=s(2698),ez=s.n(eY),ek=s(5983),eZ=s.n(ek),eJ=s(8287),eq=s.n(eJ),eX=s(4314),e$=s.n(eX);let e0=()=>(0,S.jsxs)("div",{className:e$().loading,children:[(0,S.jsxs)("div",{className:e$().loaders,children:[(0,S.jsx)("div",{}),(0,S.jsx)("div",{}),(0,S.jsx)("div",{}),(0,S.jsx)("div",{}),(0,S.jsx)("div",{})]}),(0,S.jsx)("h2",{children:"Loading"})]});var e1=class{getFrames(){return this.frames}constructor(e,{x:t=0,y:s=0},i,a={max:1}){this.canvasRenderingContext=e,this.position={x:t,y:s},this.image=new Image,this.image.src=i,this.frames={max:a.max,current:0,elapsed:0,hold:4}}},e2=class extends e1{draw(){let e=this.image.width/this.frames.max,t={position:{x:e*this.frames.current,y:0},width:e,height:this.image.height};this.canvasRenderingContext.drawImage(this.image,t.position.x,t.position.y,t.width,t.height,this.position.x-15,this.position.y,t.width,t.height),this.frames.elapsed++,this.frames.elapsed%this.frames.hold==0&&(this.frames.current++,this.frames.current>=this.frames.max&&(this.frames.current=0))}update(){this.draw()}constructor(e,{x:t=0,y:s=0},i,a={max:1}){super(e,{x:t,y:s},i,a)}},e4=JSON.parse('[{"waypoints":[{"x":-200,"y":660},{"x":290,"y":660},{"x":291,"y":80},{"x":610,"y":80},{"x":611,"y":280},{"x":870,"y":280},{"x":871,"y":530},{"x":1380,"y":530},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,14,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":3,"scout":0,"warrior":2},{"soldier":5,"scout":0,"warrior":3},{"soldier":3,"scout":4,"warrior":6}]},{"waypoints":[{"x":-200,"y":530},{"x":160,"y":530},{"x":161,"y":150},{"x":480,"y":150},{"x":481,"y":530},{"x":800,"y":530},{"x":801,"y":150},{"x":1120,"y":150},{"x":1121,"y":868},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":3,"scout":3,"warrior":3},{"soldier":6,"scout":6,"warrior":3},{"soldier":6,"scout":6,"warrior":6}]},{"waypoints":[{"x":1060,"y":-200},{"x":1061,"y":270},{"x":100,"y":270},{"x":100,"y":530},{"x":350,"y":530},{"x":351,"y":470},{"x":610,"y":470},{"x":611,"y":660},{"x":1060,"y":660},{"x":1061,"y":470},{"x":1380,"y":470},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,14,0,0,14,0,0,14,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":7,"scout":0,"warrior":4},{"soldier":4,"scout":8,"warrior":5},{"soldier":5,"scout":12,"warrior":5}]}]'),e8=JSON.parse('[{"waypoints":[{"x":160,"y":-200},{"x":160,"y":590},{"x":350,"y":590},{"x":351,"y":200},{"x":420,"y":200},{"x":421,"y":140},{"x":670,"y":140},{"x":671,"y":650},{"x":860,"y":650},{"x":861,"y":520},{"x":930,"y":520},{"x":931,"y":140},{"x":1380,"y":140},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,14,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":10,"scout":4,"warrior":2},{"soldier":10,"scout":10,"warrior":4},{"soldier":10,"scout":14,"warrior":10}]},{"waypoints":[{"x":-200,"y":140},{"x":220,"y":140},{"x":221,"y":520},{"x":610,"y":520},{"x":611,"y":650},{"x":930,"y":650},{"x":931,"y":520},{"x":1180,"y":520},{"x":1181,"y":140},{"x":740,"y":140},{"x":740,"y":330},{"x":420,"y":330},{"x":420,"y":-100},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":8,"scout":10,"warrior":0},{"soldier":4,"scout":12,"warrior":8},{"soldier":20,"scout":10,"warrior":10}]},{"waypoints":[{"x":420,"y":868},{"x":421,"y":520},{"x":1120,"y":520},{"x":1121,"y":140},{"x":990,"y":140},{"x":990,"y":80},{"x":670,"y":80},{"x":670,"y":140},{"x":610,"y":140},{"x":610,"y":200},{"x":540,"y":200},{"x":540,"y":270},{"x":480,"y":270},{"x":480,"y":330},{"x":-100,"y":330},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":10,"scout":4,"warrior":4},{"soldier":10,"scout":10,"warrior":2},{"soldier":20,"scout":12,"warrior":10}]}]'),e3=JSON.parse('[{"waypoints":[{"x":1380,"y":600},{"x":990,"y":600},{"x":990,"y":210},{"x":670,"y":210},{"x":670,"y":530},{"x":350,"y":530},{"x":350,"y":660},{"x":100,"y":660},{"x":100,"y":150},{"x":360,"y":150},{"x":361,"y":-100},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":10,"scout":5,"warrior":10},{"soldier":10,"scout":10,"warrior":10},{"soldier":12,"scout":12,"warrior":12}]},{"waypoints":[{"x":350,"y":868},{"x":351,"y":530},{"x":930,"y":530},{"x":931,"y":660},{"x":1190,"y":660},{"x":1191,"y":80},{"x":800,"y":80},{"x":800,"y":280},{"x":480,"y":280},{"x":480,"y":340},{"x":220,"y":340},{"x":220,"y":80},{"x":-100,"y":80},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":20,"scout":5,"warrior":10},{"soldier":30,"scout":10,"warrior":10},{"soldier":15,"scout":25,"warrior":10}]},{"waypoints":[{"x":1380,"y":80},{"x":1050,"y":80},{"x":1050,"y":270},{"x":740,"y":270},{"x":740,"y":130},{"x":420,"y":130},{"x":420,"y":460},{"x":1060,"y":460},{"x":1061,"y":650},{"x":100,"y":650},{"x":100,"y":140},{"x":220,"y":140},{"x":230,"y":-100},{"x":0,"y":0}],"substructures":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"enemies":[{"soldier":10,"scout":10,"warrior":20},{"soldier":40,"scout":10,"warrior":5},{"soldier":40,"scout":30,"warrior":30}]}]'),e5={src:"/_next/static/media/level1.46da70e6.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAfklEQVR42gUAwQnCMDCXXFJbLWgthTwE387jKM7hSs7hWxALxodpaklyOYHr5byv2NC7MKTKDpsUp+fsM0qzJfZfsI1c+Oc+ZMrq1PUvRCmAOWaV2+MaXQqPkXRpBoTohSJbu1l3KanamAPfOQDu5MhFAeR2uaHuJxAaKGT+A04JPEy09qngAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},e6={src:"/_next/static/media/level2.8f512c6b.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAcUlEQVR42g3GwQ3CMAwFUBt/pyEIFYkF2ITJ2IfNOEGlCKji1A680+P77So0iPCq4NhKNqi2z4pEu6UdVSgdlFDcnn3s59MCcyHokOT2Ze7E/2cOw4gQ3pgkU2V/B2Yf5jgjJkv1MU26lotAzSJ6M8cP7PM1eaxwZbcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},e7={src:"/_next/static/media/level3.e14c1a2b.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAcklEQVR42g3JMQ7CMAwAQNtxEoqoUICRX/Eb3sELGbuwVKGJ7bgdT4ef92uOZyIYDlMCGcHWxXPhSSsedAeA/zaODi7ikTP0TM1MCbFCqhDvbNJ/hBTEWHHuxtVKp6coYryw5ofCKZKl9r3aQriOVFq+7cNaN5Gkq315AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},e9={src:"/_next/static/media/level1.5ce9541b.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAZElEQVR42gVAwQ3CMAy8qw1NIvHiwVbM02EZArUCCWL7Km7bU0DVYdYzjyr6ZVRNF2TLMLsRBlzNZLz72hwQqIi/2wBK0szvnB8HkmzEj9DCDjKlqJdn7UyPfEesrT8ykjQu+wlZuzU/IKqEsAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5},te={src:"/_next/static/media/level2.1df4c63a.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAcUlEQVR42h2Luw6CQBQF79fQ+Q92Ru00wIIYX4kFHbtwX2f5dzYk00wyQ6KXnRtsdA8sJ9Gr6JnW9Q/0Zo3KG3gCX2Bw74iX2hHM7uZ18Tk1bj/knmI6lAPoHK3wUHK1tqQ0xUo4mL5y/uzTg+UYU7UBg0cy0/W60j4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},tt={src:"/_next/static/media/level3.1d2964df.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAbElEQVR42gVAsRHCMAzUv2RDQRUW4DhWYDAYlaOmgpoK4sSylMPtfiVDeTEzwQA0w9vytmInYgemIIdDVVO8lonkKviB7n2WrOv6iWiRg3N7Lv7IdCt7ait1Uj2IuCmPVc9kDdcRr96/ICL+G8oiNOZ6+tsUAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},ts={src:"/_next/static/media/level1.1caf1a86.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAcUlEQVR42g3M2Q6DIBBAUT5QtmHp1LGxLKGC2MTa/4+8n3sZ4lNp5z1+jx2MiTHmnAGAcWnWNaSUY0pDaPDOI+ecSW23T2l1a7Va9+h7Q6T/dbKhrPNCmZESLUfvE9fhHZhUMAmgebl+57iXUmZ6CalvbkEq4ZQs+nEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},ti={src:"/_next/static/media/level2.8e2814e2.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAcUlEQVR42hXCWxKCIBQAULYnrwshz65m2GjJGOj+P8ozhwgwzoWjfT/vtWwb5UppK+FGjlZB9+MwpoSg+ukxrcvSMSBn3Z1PjCvn4x2HOWdE5FKT5yVLMNbFf8rAh9hRSV5z3kuxLpythhBjQiENF+oHarYqUVTlFT0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},ta={src:"/_next/static/media/level3.84123fb2.png",height:768,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAdUlEQVR42g2MSw7CMAwFczTEBhGSJo1rJ64BEZRSiV9bcX8Jb2bxRm9MLrzbHxAJqVjrftsi5+vJ98b5VG81xKG1FnscWXyA9+tpdNrWhYrcax3lEhMmwPX7MV2AeZqYxXUpAVHmow0q9AFaVMKQVSg1OD/aHxX5KVeDt0tRAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},tn=class{getCurrentWorldData(){return this.worlds[this.world-1].data[this.level-1]}getCurrentMap(){return this.worlds[this.world-1].maps[this.level-1].src}getMaps(){return this.worlds[this.world-1].maps}getCurrentStartingPoint(){var e;return null===(e=this.worlds[this.world-1])||void 0===e?void 0:e.startingPoint[this.level-1]}getWave(){return this.wave}setWave(e){this.wave=e}getLevel(){return this.level}setLevel(e){this.level=e}getWorld(){return this.world}setWorld(e){this.world=e}getWorldName(){return this.worlds[this.world-1].name}getWorldsLength(){return this.worlds.length}constructor(){this.worlds=[{name:"Desert",maps:[e5,e6,e7],data:e4,startingPoint:[m.LEFT,m.LEFT,m.TOP]},{name:"Forest",maps:[e9,te,tt],data:e8,startingPoint:[m.TOP,m.LEFT,m.BOTTOM]},{name:"Underworld",maps:[ts,ti,ta],data:e3,startingPoint:[m.RIGHT,m.BOTTOM,m.RIGHT]}],this.world=1,this.level=1,this.wave=1}},tr=class{getLife(){return this.life}setLife(e){this.life=e}getMoney(){return this.money}setMoney(e){this.money=e}getScore(){return this.score}setScore(e){this.score=e}constructor(){this.life=10,this.money=100,this.score=0}},tl=class{draw(){this.canvasRenderingContext.beginPath(),this.canvasRenderingContext.arc(this.position.x+this.radius,this.position.y+this.radius,1.55*this.radius,0,2*Math.PI),this.canvasRenderingContext.fillStyle=this.fieldColor,this.canvasRenderingContext.strokeStyle=this.borderColor,this.canvasRenderingContext.lineWidth=2,this.canvasRenderingContext.fill(),this.canvasRenderingContext.stroke()}update(e){if(this.draw(),0===e.x||0===e.y)return;let t=Math.sqrt(Math.pow(e.x-(this.position.x+this.radius),2)+Math.pow(e.y-(this.position.y+this.radius),2));t<=this.radius?(this.fieldColor="rgba(".concat(0,", ",206,", ",0,", ",.3,")"),this.borderColor="rgba(".concat(0,", ",206,", ",0,", ",.6,")")):(this.fieldColor="rgba(".concat(255,", ",255,", ",255,", ",0,")"),this.borderColor="rgba(".concat(255,", ",255,", ",255,", ",0,")"))}getPosition(){return this.position}getRadius(){return this.radius}getOccupied(){return this.occupied}setOccupied(e){this.occupied=e}getSize(){return this.size}getEventVisible(){return this.eventVisible}setEventVisible(e){this.eventVisible=e}constructor(e,{x:t=0,y:s=0}){this.radius=64,this.size=128,this.canvasRenderingContext=e,this.position={x:t,y:s},this.fieldColor="rgba(".concat(0,", ",206,", ",0,", ",0,")"),this.borderColor="rgba(".concat(0,", ",206,", ",0,", ",0,")"),this.occupied=!1,this.eventVisible=!0}};let to=(e,t)=>{let s=[],i=[],a=t.getCurrentWorldData();for(let e=0;e<a.substructures.length;e+=20)i.push(a.substructures.slice(e,e+20));return i.forEach((t,i)=>{t.forEach((t,a)=>{14===t&&s.push(new tl(e,{x:64*a,y:64*i}))})}),s};var tA=class extends e1{drawEnemy(){let e=this.image.width/this.frames.max,t={position:{x:e*this.frames.current,y:0},width:e,height:this.image.height};this.waypointIndex!==this.waypoints.length-2&&(this.waypoints[this.waypointIndex].x<this.waypoints[this.waypointIndex+1].x?this.direction=y.RIGHT:this.direction=y.LEFT),this.direction===y.RIGHT?this.canvasRenderingContext.drawImage(this.image,t.position.x,t.position.y,t.width,t.height,this.position.x-15,this.position.y,t.width,t.height):(this.canvasRenderingContext.scale(-1,1),this.canvasRenderingContext.drawImage(this.image,t.position.x,t.position.y,t.width,t.height,-this.position.x-this.bounding.width-15,this.position.y,t.width,t.height),this.canvasRenderingContext.scale(-1,1)),this.frames.elapsed++,this.frames.elapsed%this.frames.hold==0&&(this.frames.current++,this.frames.current>=this.frames.max&&(this.frames.current=0))}drawHealthBars(){this.canvasRenderingContext.fillStyle="#cc0000",this.fillHealthBars(this.canvasRenderingContext,this.position.x,this.position.y-10-5,this.bounding.width,10,5),this.canvasRenderingContext.fillStyle="#00c700",this.fillHealthBars(this.canvasRenderingContext,this.position.x,this.position.y-10-5,this.bounding.width*this.health/this.healthBarDivider,10,5)}drawHealthValue(){this.canvasRenderingContext.fillStyle="#ffffff",this.canvasRenderingContext.font="bold 18px sans-serif",this.canvasRenderingContext.textAlign="center",this.canvasRenderingContext.fillText("".concat(this.health," / ").concat(this.healthBarDivider),this.position.x+this.bounding.width/2,this.position.y-20)}drawEnemyName(){this.canvasRenderingContext.fillStyle="#cc0000",this.canvasRenderingContext.font="bold 18px sans-serif",this.canvasRenderingContext.textAlign="center",this.canvasRenderingContext.fillText(this.name,this.position.x+this.bounding.width/2,this.position.y+100)}fillHealthBars(e,t,s,i,a,n){e.beginPath(),e.moveTo(t+n,s),e.lineTo(t+i-n,s),e.quadraticCurveTo(t+i,s,t+i,s+n),e.lineTo(t+i,s+a-n),e.quadraticCurveTo(t+i,s+a,t+i-n,s+a),e.lineTo(t+n,s+a),e.quadraticCurveTo(t,s+a,t,s+a-n),e.lineTo(t,s+n),e.quadraticCurveTo(t,s,t+n,s),e.closePath(),e.fill()}draw(){this.drawEnemy(),this.drawHealthBars(),this.drawHealthValue(),this.drawEnemyName()}update(){this.draw();let e=this.waypoints[this.waypointIndex],t=e.y-this.position.y-this.bounding.height/2,s=e.x-this.position.x-this.bounding.width/2,i=Math.atan2(t,s);this.velocity.x=Math.cos(i)*this.speed,this.velocity.y=Math.sin(i)*this.speed,this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,Math.abs(Math.round(this.position.x+this.bounding.width/2)-Math.round(e.x))<Math.abs(this.velocity.x)&&Math.abs(Math.round(this.position.y+this.bounding.height/2)-Math.round(e.y))<Math.abs(this.velocity.y)&&this.waypointIndex<this.waypoints.length-1&&this.waypointIndex++}getPosition(){return this.position}getBounding(){return this.bounding}getWaypointIndex(){return this.waypointIndex}decreaseHealth(e){this.health-=e}getName(){return this.name}getHealth(){return this.health}getMoney(){return this.money}getSpeed(){return this.speed}getScore(){return this.score}constructor(e,{x:t=0,y:s=0},i,a){super(e,{x:t,y:s},a,{max:7}),this.waypoints=i,this.bounding={width:64,height:64,radius:32},this.waypointIndex=0,this.health=100,this.velocity={x:0,y:0},this.speed=2,this.direction=null,this.healthBarDivider=w.SOLDIER_ORC,this.name="",this.score=0,this.money=0}},th={src:"/_next/static/media/soldierOrc.2dc9f0d9.png",height:79,width:742,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKElEQVR4nGPsanNo//vn33cmJkYGRibGn4wMDL//MzAwMzAwsAPFWQDT5AvJ6g8cpgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1},td=class extends tA{update(){super.update()}constructor(e,{x:t=0,y:s=0},i){super(e,{x:t,y:s},i,th.src),this.name=eA.u2,this.health=eA.mZ,this.money=eA.CZ,this.speed=eA.NS,this.score=eA.Gs,this.healthBarDivider=w.SOLDIER_ORC}},tc={src:"/_next/static/media/scoutOrc.e80c85e3.png",height:79,width:742,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKUlEQVR4nGNsbTKvZWTi+sPI+I+biYn5FyPD/3////9nBxJ/GRnZ/wAAziAO0vjQIHkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:1},tg=class extends tA{update(){super.update()}constructor(e,{x:t=0,y:s=0},i){super(e,{x:t,y:s},i,tc.src),this.name=eh.u2,this.health=eh.mZ,this.money=eh.CZ,this.speed=eh.NS,this.score=eh.Gs,this.healthBarDivider=w.SCOUT_ORC}},tu={src:"/_next/static/media/warriorOrc.06604924.png",height:79,width:742,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAJ0lEQVR4nGNsrfDrZmJm/8fIyMDKyMj4gwEI/v//zwokWRkYWX4BAIvHCOnAumLsAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1},tm=class extends tA{update(){super.update()}constructor(e,{x:t=0,y:s=0},i){super(e,{x:t,y:s},i,tu.src),this.name=ed.u2,this.health=ed.mZ,this.money=ed.CZ,this.speed=ed.NS,this.score=ed.Gs,this.healthBarDivider=w.WARRIOR_ORC}};let tx=(e,t)=>{let s=[],i=[],a=[],n=t.getCurrentWorldData(),r=n.enemies[t.getWave()-1].soldier,l=n.enemies[t.getWave()-1].scout,o=n.enemies[t.getWave()-1].warrior,A=t.getCurrentStartingPoint(),h=(t,r)=>{for(let l=1;l<=t+1;l++){let t=0,o=0;A===m.LEFT?t=200*l:A===m.TOP?o=200*l:A===m.BOTTOM?o=-(200*l):A===m.RIGHT&&(t=-(200*l)),"Soldier"===r?s.push(new td(e,{x:n.waypoints[0].x-t,y:n.waypoints[0].y-o},n.waypoints)):"Scout"===r?i.push(new tg(e,{x:n.waypoints[0].x-t,y:n.waypoints[0].y-o},n.waypoints)):"Warrior"===r&&a.push(new tm(e,{x:n.waypoints[0].x-t,y:n.waypoints[0].y-o},n.waypoints))}"Soldier"===r?s.splice(0,1):"Scout"===r?i.splice(0,1):"Warrior"===r&&a.splice(0,1)};h(r,"Soldier"),h(l,"Scout"),h(o,"Warrior");let d=[...s,...i,...a];for(let e=d.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[d[e],d[t]]=[d[t],d[e]]}return d},tp=(e,t,s)=>{let i=new Date,a=i.toLocaleTimeString([],{hour12:!1});e.push({content:t,type:s,time:a})},tv=e=>{let{event:t,canvasRef:s,tacticalMode:i,setMousePosition:a,updateSubstructures:n}=e,r=s.current.getBoundingClientRect().top,l=s.current.getBoundingClientRect().left,o=t.clientX-l,A=t.clientY-r;a({x:o,y:A}),i||n({x:o,y:A})},ty=e=>{let{info:t,time:s,start:i,setStart:a}=e;return(0,S.jsx)("div",{className:eT().transitionInfo,children:t===x.START||t===x.WORLD?(0,S.jsxs)("h3",{onClick:()=>a(!i),children:["Ready? ",(0,S.jsx)("br",{}),"Click to Start!"]}):(0,S.jsxs)("h3",{children:["Next ",t," in ",s,"..."]})})};var tw={src:"/_next/static/media/cannon1.1b6dcd10.png",height:139,width:253,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAAe0lEQVR42mMoUjI83q1i/L9HSf/PPGOn18kM0g4MyKBEwej/QhPb/6v0rf9vcI/8Hxqb9isqo/BqQEza3sjU3D0MRVL6/5c52f9fZW7zb7NH9P/wuPTfQAU3gxOyDsVmFh5iKFExOtmnava/T9nw31JLz7fZDKJOyDYAANXMMIdtbGUwAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4},tE={src:"/_next/static/media/mg1.9fd84e06.png",height:110,width:229,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAAeUlEQVR42mMAAcFI6zjFruT/ig1JVSC+Z1MxR251K7NXaAwLiK8iZKZ1WTs37L9EmvccBnQgmuj0R7k75b/ipLS/2p3p/yOSsu+6BoQd9AqJPmDj6r2MQTjK7oFcTeR/+fb4/5oNST9D4zN2O3oHTXH1D5tk7uDWCAATdSlUCKnSrQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4},tf={src:"/_next/static/media/missile1.b5f953bd.png",height:136,width:225,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAsElEQVR4nAGlAFr/AQAAABMzQlO+GhcPLvP5AbPA0AdlCTIODff6/v0AAfgCARNiidwEGy0jAu/Y/wn89wEABQf1AAQB/wMBAgT6+/ftASSJqf8RBRj97fXqAxauaQAMHD4A+vfzAAgJCwDu6OK1ASVmiNwjHiIjzOjl/w/48wH/CAr1//r8/wIEAwT3+vbtAQAAABMzSWC8HxUIMPP4/rW7qvdjBkQSDfr+Af0ABPkCPKlF4KFV4tIAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},tS=class extends e1{draw(e){this.canvasRenderingContext.save(),this.canvasRenderingContext.translate(this.position.x,this.position.y),this.canvasRenderingContext.rotate(e),this.canvasRenderingContext.drawImage(this.bulletCanon,-this.image.width/2,-this.image.height/2),this.canvasRenderingContext.restore()}update(){let e=Math.atan2(this.enemy.getPosition().y-this.position.y+this.enemy.getBounding().height/2,this.enemy.getPosition().x-this.position.x+this.enemy.getBounding().width/2);this.draw(e),this.velocity.x=Math.cos(e)*this.speed,this.velocity.y=Math.sin(e)*this.speed,this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}getPosition(){return this.position}getRadius(){return this.radius}getEnemy(){return this.enemy}constructor(e,{x:t=0,y:s=0},i,a){super(e,{x:t,y:s},a),this.velocity={x:0,y:0},this.radius=10,this.speed=10,this.enemy=i,this.bulletCanon=new Image,this.bulletCanon.src=a}},tb=class extends e1{drawBlastField(){this.canvasRenderingContext.beginPath(),this.canvasRenderingContext.arc(this.position.x+this.size/2,this.position.y+this.size/2,this.radius,0,2*Math.PI),this.canvasRenderingContext.fillStyle="rgba(".concat(0,", ",0,", ",255,", ",.1,")"),this.canvasRenderingContext.strokeStyle="rgba(".concat(0,", ",0,", ",255,", ",.6,")"),this.canvasRenderingContext.lineWidth=2,this.canvasRenderingContext.fill(),this.canvasRenderingContext.stroke()}drawTower(){if(this.target){let e=Math.atan2(this.target.getPosition().y-this.position.y+this.target.getBounding().height/2,this.target.getPosition().x-this.position.x+this.target.getBounding().width/2);this.canvasRenderingContext.save(),this.canvasRenderingContext.translate(this.position.x+this.size/2,this.position.y+this.size/2),this.canvasRenderingContext.rotate(e),this.canvasRenderingContext.drawImage(this.image,-this.size/4,-this.size/4,this.size,this.size/2),this.canvasRenderingContext.restore()}else this.canvasRenderingContext.drawImage(this.image,this.position.x+this.size/4,this.position.y+this.size/4,this.size,this.size/2)}draw(){this.drawTower(),this.drawBlastField()}update(){this.draw();let e=Number((100/this.speed).toFixed());if(this.bulletFrames%e==0&&this.target){let e=Math.atan2(this.target.getPosition().y-this.position.y+this.target.getBounding().height/2,this.target.getPosition().x-this.position.x+this.target.getBounding().width/2),t=this.position.x+this.size/2+Math.cos(e)*(this.size/2+50),s=this.position.y+this.size/2+Math.sin(e)*(this.size/2+20);this.bullets.push(new tS(this.canvasRenderingContext,{x:t,y:s},this.target,this.bulletImage.src))}this.bulletFrames++}upgradeTower(){this.level+=1,this.damage=this.towerData.levels[this.level-1].damage,this.money=this.towerData.levels[this.level-1].money,this.speed=this.towerData.levels[this.level-1].speed,this.image.src=this.towerImages[this.level-1]}getBullets(){return this.bullets}getBullet(e){return this.bullets[e]}getSize(){return this.size}getPosition(){return this.position}getRadius(){return this.radius}setTarget(e){this.target=e}getDamage(){return this.damage}getMoney(){return this.money}getSpeed(){return this.speed}getName(){return this.name}getLevel(){return this.level}getCurrentLevelInfo(){let e={level:this.level,damage:this.towerData.levels[this.level-1].damage,money:this.towerData.levels[this.level-1].money,speed:this.towerData.levels[this.level-1].speed,image:this.towerImages[this.level-1]};return e}getNextLevelInfo(){let e={level:this.level+1,damage:this.towerData.levels[this.level].damage,money:this.towerData.levels[this.level].money,speed:this.towerData.levels[this.level].speed,image:this.towerImages[this.level]};return e}getMaxExplosionFrames(){return this.maxExplosionFrames}getExplosionImg(){return this.explosionImg}constructor(e,{x:t=0,y:s=0},i,a,n){super(e,{x:0,y:0},i[0]),this.canvasRenderingContext=e,this.position={x:t,y:s},this.size=128,this.bullets=[],this.radius=250,this.bulletFrames=0,this.target=null,this.name="",this.damage=0,this.money=0,this.speed=0,this.level=1,this.bulletImage=new Image,this.bulletImage.src=a,this.towerData=n,this.towerImages=i,this.explosionImg="",this.maxExplosionFrames=0}},tC={src:"/_next/static/media/cannon2.628037f9.png",height:202,width:286,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAwUlEQVR42mMAAuEKVdNz3SqG/6dpW/6fr2PX+///fwYYZgjXNHpQp239f5mBzb/1xk7/pwYn/rFMytodFJG0MCQhYx5Dur7F/2Ztu/8rbS3/b3Lx/t8bnvbHOj79TkBo/LqguLRVDMlaJv8adW3+L9O1/b/e0vN/T3jKH9PopLtBEYkbw5Oy1jIEaxk9rtIw/7/ayPH/ZhPX/1NDEv8CrdgVEpUyNzw5exYDEIiWqpqd71Ez+jfb0OH/Qh3bTmRHAgC2wl2utYP7gAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},tN={src:"/_next/static/media/cannon3.fdd9c382.png",height:202,width:276,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAvElEQVR42mMAAsEqTcuzEzTNfk/VMP+7WM9+OQMyiJZWu12vYfF/ubHj/zWmzv9ne4b/ZzCzncrNwGDGwMAgwhClY/q/Ucf23zJjy/+r3Zz+lSXk/Usob/wfGJX8PyG3/CtDiLbJ33pty/8r9e3+LzV0/F+ekPMvtab1f2h85v/Uopr/DFEyas8rlQz+rzZy/LfO2Pn/dJ+o/wz2bjMkGBgsGRgY5BmAQLZC1eTWDKAJM3St/68wdt2A7EYArhFG+pCuep4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:6},tR={src:"/_next/static/media/cannon.1f335077.png",height:26,width:52,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAACzzX7wAAAAj0lEQVR4nAGEAHv/AQoOFKEaHiNHAgMD+AUMCgEXAP0BL+zs+I/Z07cAAACRAS00Ouk7REsWAgIDAA4UEwAN8OsARMDEAP0uMgCf4NrvASAmKuQ3PkMbAwEC/gwUFgEK8vEAScDDAAgyNgGl7OXvAQMFBr0NDxFCAv/+/gENEAIUAQQAN/Xz/KLq5LkAAABwYR4rMUGcYjEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4},tj={src:"/_next/static/media/cannon_explosion.605692cf.png",height:84,width:312,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAQUlEQVR4nAUAuRGAIAyQVNgymBY4PQPIAuQPl58xurD4vxaGeyGiAICCuKW1O/I7vq5mMefcUOuVUjI1zW5GzBwHQMspK9wGgJEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},t_=class extends tb{constructor(e,{x:t=0,y:s=0}){super(e,{x:t,y:s},[tw.src,tC.src,tN.src],tR.src,eS),this.name=eS.name,this.damage=eS.levels[this.level-1].damage,this.money=eS.levels[this.level-1].money,this.speed=eS.levels[this.level-1].speed,this.explosionImg=tj.src,this.maxExplosionFrames=4}},tU={src:"/_next/static/media/mg2.36527653.png",height:218,width:239,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAxklEQVR42mMAAQ59aV/l1oT/8g2JdQzogM/dOFMs2PayRn7of+XckM02DJba+k6OWma2zhpGVvYyDOJp7v/Vp+X9l52W9deiNed/dELuF/fgyLu+4XF37dx9jzGIOZpsVfBz/iMa7fxfItTpINBQLSAWBWIxIOZmkMjw/K86IfO/DNAEy478/zEJOV+c/ELu+oTF3bV08jjGwO9tlinia3ZZpzDiv2phxGYHoBt0HR20jK0dNbSNzGXADmVT5gb7QqE5FcMXADYbP6wptoK+AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7},tM={src:"/_next/static/media/mg3.63ebdc9e.png",height:166,width:259,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAnElEQVR42mMAAcEMl3Cl2oj/aq2pO0F8i4okdjt3P1ZHrwAWBiYGBk4GZ/UaUx+v/ybZ0ccZ0IFYqutD+Y6E/6alMX916hP+G4cF9JkZ2aeYO7lXWLt4FjFIFvj811hY/E9uVvZ//TmF/0Mzcv4HRKX8D0nM/B8Um/KfQSTO6YZSW/J/td68v8rNSf+1vV1K1SW1XY1tnaL1zW1DAbFNNSZ6iZSFAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5},tI={src:"/_next/static/media/minigun.a6dae862.png",height:20,width:73,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASklEQVR4nGP882QKNwOLmBEDq5gKIwsfLwMQ/P/7+SvD7zcP/v9+fpbx9+PJAoys4p4MbJKGQAWCQHmG/38+f2T4/erq/19PtwEAAo8bDmttW4wAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},tB={src:"/_next/static/media/minigun_explosion.a85a79d8.png",height:84,width:624,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAK0lEQVR4nGM8sTZZnIfhlfAr8WT5v/8YeBgZGL//+vHj9edXz1+euXD9HQD2/hJgtw58XwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1},tD=class extends tb{constructor(e,{x:t=0,y:s=0}){super(e,{x:t,y:s},[tE.src,tU.src,tM.src],tI.src,eb),this.name=eb.name,this.damage=eb.levels[this.level-1].damage,this.money=eb.levels[this.level-1].money,this.speed=eb.levels[this.level-1].speed,this.explosionImg=tB.src,this.maxExplosionFrames=8}},tL={src:"/_next/static/media/missile2.929f1eb4.png",height:188,width:188,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA+UlEQVR42mOAAgEHR9s3IdGx/739fe4C+fwMMCBtYBso7pZ5UjGm+79S/IS/KjG9/0USp91Wjq46yMDAoMqg6xj8Xz592n/Z5oN/FZr2/5er3/tPuuP4f+PSmf/TxRh2MZh5RvxRLJr3R6ln13+p7p3/Fdu2/JebdOi3efW0/+EMDIUM5r5xf5SK5v9R7Nv536Z38X+1piX/pfr2/zavnPo/jA2oQNve/798yrT/Ul0H/gZ0LPyv1bTmnzjIirLZ/9OFgFaIqeoESngXn1SK6v4vkTDpr0p8/3/x9Fl3FGKqdjMwMMgyQAG/h4/Xq+ik1P+BYWEPkL0JAATGZuKKUtl1AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},tO={src:"/_next/static/media/missile3.a2536202.png",height:208,width:198,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA8ElEQVR42g3HzSpEYRyA8ef/P++cIdM5ZKZ8liMGC0pZuIjZWGlcgZL95AZciJLkDkzKysIF2FiI0ExKJ2OO93y9zm/z9Mj2egDQXd3tXKoqP19v1/3+/RFgACvRfqdnG3MnZnlnyQsCsIUb1SY/Zv5e8tbF2bEJp8Pz4ewa2m47JBFSpD7RXGzElq15ThUxufp+KQ7JcqAEcUVRVs0sA63gqhOBJjmiAgrgKIVEizw1LkvVVVZqMZ4HmLqnpoYvRJ7fimyZpZskEr7aKcf32Nn491NG74Px3W1PNhYAOIz2Dq4ocuLh883D41MXUCD9ByjkXVDEjEzwAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},tT={src:"/_next/static/media/missile.27d5de4b.png",height:50,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAg0lEQVR42mMAAo5GdtnvVQwMBxlwgJ4MN8//NXEJ/1PT09cVFxfPT/b3X5bNwDg1SEHdnQEI/ndMmvx//+HD/zavX/9/647t/+c0NP3fImT8v9PM5T8DEORk6Rr9L7Sy+6fn6NDh5+NT7mZsUu/CwJDFwMCgyAACdeKqD6oYJBdhsx8AkMYuLVb/LNAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:5},tW={src:"/_next/static/media/missile_explosion.8129e529.png",height:84,width:546,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAYAAADjAO9DAAAAKklEQVR4nGNc42EoJCL8T5JV6D8fFzOzxDcmLtE3Pxh/Pd307JScBd9vAKnfDF/YicBzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:1},tG=class extends tb{constructor(e,{x:t=0,y:s=0}){super(e,{x:t,y:s},[tf.src,tL.src,tO.src],tT.src,eC),this.name=eC.name,this.damage=eC.levels[this.level-1].damage,this.money=eC.levels[this.level-1].money,this.speed=eC.levels[this.level-1].speed,this.explosionImg=tW.src,this.maxExplosionFrames=7}};let tP=e=>{let{contextMenuPosition:t,setContextMenu:s,currentSubstructure:i,setCurrentSubstructure:a,context2D:n,towers:r,player:l}=e,[o]=(0,D.Z)(K()),{logs:A,setMoney:h}=(0,N.useContext)(Q),d=(0,N.useRef)(null),[c,u]=(0,N.useState)({x:0,y:0}),[m,x]=(0,N.useState)(!1),[v,y]=(0,N.useState)(0),w=e=>{let t=null;i&&n&&(e===f.CANNON?t=new t_(n,{x:i.getPosition().x,y:i.getPosition().y}):e===f.MINIGUN?t=new tD(n,{x:i.getPosition().x,y:i.getPosition().y}):e===f.MISSILE&&(t=new tG(n,{x:i.getPosition().x,y:i.getPosition().y})),t&&((null==t?void 0:t.getMoney())<=l.getMoney()?(l.setMoney(l.getMoney()-t.getMoney()),h(l.getMoney()),r.push(t),s(E.NONE),o(),tp(A,"".concat(null==t?void 0:t.getName()," has been placed!"),p.SUCCESS),i.setOccupied(!0),a(null)):(l.setMoney(l.getMoney()-t.getMoney()),x(!0),y(t.getMoney()),h(l.getMoney()),tp(A,"Not Enough money",p.FAILURE))))};return(0,N.useEffect)(()=>{m&&(l.setMoney(l.getMoney()+v),h(l.getMoney()),x(!1))},[m]),(0,N.useEffect)(()=>{let e={width:d.current.clientWidth,height:d.current.clientHeight},s=e.width+t.x,i=e.height+t.y,a={x:t.x,y:t.y};s>g.WIDTH&&(a.x=t.x-(s-g.WIDTH)),i>g.HEIGHT&&(a.y=t.y-(i-g.HEIGHT)-50),u(a)},[t]),(0,S.jsxs)("div",{ref:d,className:eT().newTowerMenu,style:{left:"".concat(c.x,"px"),top:"".concat(c.y,"px")},children:[(0,S.jsx)("h2",{children:"Buy a new Tower"}),(0,S.jsxs)("div",{className:eT().newTower,onClick:()=>w(f.CANNON),children:[l.getMoney()<eS.levels[0].money&&(0,S.jsx)("div",{className:eT().error,children:" Not enough money!"}),(0,S.jsxs)("div",{className:eT().imageWrapper,children:[(0,S.jsx)("p",{className:eT().name,children:eS.name}),(0,S.jsx)(Z(),{src:tw,alt:"Cannon level 1"})]}),(0,S.jsxs)("div",{className:eT().infoWrapper,children:[(0,S.jsxs)("p",{className:eT().health,children:["Damage: ",eS.levels[0].damage]}),(0,S.jsxs)("p",{className:eT().money,children:["Money: ",eS.levels[0].money]}),(0,S.jsxs)("p",{className:eT().speed,children:["Speed: ",eS.levels[0].speed," FPS"]})]})]}),(0,S.jsxs)("div",{className:eT().newTower,onClick:()=>w(f.MINIGUN),children:[l.getMoney()<eb.levels[0].money&&(0,S.jsx)("div",{className:eT().error,children:" Not enough money!"}),(0,S.jsxs)("div",{className:eT().imageWrapper,children:[(0,S.jsx)("p",{className:eT().name,children:eb.name}),(0,S.jsx)(Z(),{src:tE,alt:"Minigun level 1"})]}),(0,S.jsxs)("div",{className:eT().infoWrapper,children:[(0,S.jsxs)("p",{className:eT().health,children:["Damage: ",eb.levels[0].damage]}),(0,S.jsxs)("p",{className:eT().money,children:["Money: ",eb.levels[0].money]}),(0,S.jsxs)("p",{className:eT().speed,children:["Speed: ",eb.levels[0].speed," FPS"]})]})]}),(0,S.jsxs)("div",{className:eT().newTower,onClick:()=>w(f.MISSILE),children:[l.getMoney()<eC.levels[0].money&&(0,S.jsx)("div",{className:eT().error,children:" Not enough money!"}),(0,S.jsxs)("div",{className:eT().imageWrapper,children:[(0,S.jsx)("p",{className:eT().name,children:eC.name}),(0,S.jsx)(Z(),{src:tf,alt:"Missile Launcher level 1"})]}),(0,S.jsxs)("div",{className:eT().infoWrapper,children:[(0,S.jsxs)("p",{className:eT().health,children:["Damage: ",eC.levels[0].damage]}),(0,S.jsxs)("p",{className:eT().money,children:["Money: ",eC.levels[0].money]}),(0,S.jsxs)("p",{className:eT().speed,children:["Speed: ",eC.levels[0].speed," FPS"]})]})]})]})},tQ=e=>{let{contextMenuPosition:t,setContextMenu:s,currentSubstructure:i,towers:a,currentTower:n,player:r,refreshAssets:l}=e,[o]=(0,D.Z)(K()),{logs:A,setMoney:h}=(0,N.useContext)(Q),d=(0,N.useRef)(null),[c,u]=(0,N.useState)({x:0,y:0}),[m,x]=(0,N.useState)(null),[v,y]=(0,N.useState)(null),[w,f]=(0,N.useState)(!1),[b,C]=(0,N.useState)(0),R=()=>{let e=a.filter(e=>e.getPosition().x===(null==i?void 0:i.getPosition().x)&&e.getPosition().y===(null==i?void 0:i.getPosition().y)),t=e[0];void 0!==(null==v?void 0:v.money)&&(C(null==v?void 0:v.money),r.getMoney()<(null==v?void 0:v.money)?(r.setMoney(r.getMoney()-(null==v?void 0:v.money)),h(r.getMoney()),f(!0),tp(A,"Not enough money!",p.FAILURE)):(t.upgradeTower(),o(),r.setMoney(r.getMoney()-(null==v?void 0:v.money)),h(r.getMoney()),tp(A,"".concat(t.getName()," Tower has been upgraded to level ").concat(t.getCurrentLevelInfo().level),p.SUCCESS),s(E.NONE),l()))};return(0,N.useEffect)(()=>{let e={name:null==n?void 0:n.getName(),level:null==n?void 0:n.getCurrentLevelInfo().level,damage:null==n?void 0:n.getCurrentLevelInfo().damage,money:null==n?void 0:n.getCurrentLevelInfo().money,speed:null==n?void 0:n.getCurrentLevelInfo().speed,image:null==n?void 0:n.getCurrentLevelInfo().image},t={name:null==n?void 0:n.getName(),level:null==n?void 0:n.getNextLevelInfo().level,damage:null==n?void 0:n.getNextLevelInfo().damage,money:null==n?void 0:n.getNextLevelInfo().money,speed:null==n?void 0:n.getNextLevelInfo().speed,image:null==n?void 0:n.getNextLevelInfo().image};x(e),y(t)},[n]),(0,N.useEffect)(()=>{let e={width:d.current.clientWidth,height:d.current.clientHeight},s=e.width+t.x,i=e.height+t.y,a={x:t.x,y:t.y};s>g.WIDTH&&(a.x=t.x-(s-g.WIDTH)),i>g.HEIGHT&&(a.y=t.y-(i-g.HEIGHT)-50),u(a)},[t]),(0,N.useEffect)(()=>{w&&(r.setMoney(r.getMoney()+b),h(r.getMoney()),f(!1))},[w]),(0,S.jsx)(S.Fragment,{children:(null==m?void 0:m.level)!==3?(0,S.jsxs)("div",{ref:d,className:eT().upgradeTowerMenu,style:{left:"".concat(c.x.toFixed(),"px"),top:"".concat(c.y.toFixed(),"px")},children:[(0,S.jsxs)("h2",{children:["Upgrade the ",null==m?void 0:m.name]}),(0,S.jsxs)("div",{className:eT().upgradeTower,children:[(0,S.jsxs)("div",{className:eT().imageWrapper,children:[(0,S.jsxs)("p",{className:eT().name,children:["Level ",null==m?void 0:m.level]}),(0,S.jsx)("img",{src:null==m?void 0:m.image,alt:"".concat(null==m?void 0:m.name," Level ").concat(null==m?void 0:m.level)})]}),(0,S.jsxs)("div",{className:eT().infoWrapper,children:[(0,S.jsxs)("p",{className:eT().health,children:["Damage: ",null==m?void 0:m.damage]}),(0,S.jsxs)("p",{className:eT().money,children:["Money: ",null==m?void 0:m.money]}),(0,S.jsxs)("p",{className:eT().speed,children:["Speed: ",null==m?void 0:m.speed," FPS"]})]})]}),(0,S.jsx)("i",{className:"fa fa-angle-double-down","aria-hidden":"true"}),(0,S.jsxs)("div",{className:eT().upgradeTower,children:[(0,S.jsxs)("div",{className:eT().imageWrapper,children:[(0,S.jsxs)("p",{className:eT().name,children:["Level ",null==v?void 0:v.level]}),(0,S.jsx)("img",{src:null==v?void 0:v.image,alt:"".concat(null==v?void 0:v.name," Level ").concat(null==v?void 0:v.level)})]}),(0,S.jsxs)("div",{className:eT().infoWrapper,children:[(0,S.jsxs)("p",{className:eT().health,children:["Damage: ",null==v?void 0:v.damage]}),(0,S.jsxs)("p",{className:eT().money,children:["Money: ",null==v?void 0:v.money]}),(0,S.jsxs)("p",{className:eT().speed,children:["Speed: ",null==v?void 0:v.speed," FPS"]})]})]}),v&&(0,S.jsx)(S.Fragment,{children:r.getMoney()>=v.money?(0,S.jsx)("button",{onClick:R,children:"Upgrade"}):(0,S.jsx)("button",{className:eT().error,onClick:R,children:"Not enough money!"})})]}):(0,S.jsxs)("div",{ref:d,className:eT().maxLevel,style:{left:"".concat(c.x.toFixed(),"px"),top:"".concat(c.y.toFixed(),"px")},children:[(0,S.jsxs)("h2",{children:[null==m?void 0:m.name," Tower Level ",null==m?void 0:m.level]}),(0,S.jsx)("img",{src:null==m?void 0:m.image,alt:"".concat(null==m?void 0:m.name," Level ").concat(null==m?void 0:m.level)}),(0,S.jsxs)("h2",{children:["Level of this ",null==m?void 0:m.name," is maxed out!"]})]})})},tV=e=>{let{isLoaded:t,setIsLoaded:s}=e,[i]=(0,D.Z)(eG()),[a]=(0,D.Z)(eQ()),[n]=(0,D.Z)(eF()),[r]=(0,D.Z)(eK()),{setWave:l,setLevel:o,setWorld:A,setLife:h,setMoney:d,setScore:c,setEndGame:m,logs:v,setLogs:y}=(0,N.useContext)(Q),w=(0,N.useRef)(null),f=(0,N.useRef)(null),[b,C]=(0,N.useState)(null),[j,_]=(0,N.useState)(!1),[U,M]=(0,N.useState)(!1),[I,B]=(0,N.useState)(""),[L,O]=(0,N.useState)(3),[T,W]=(0,N.useState)(!1),[G,P]=(0,N.useState)({x:-1e3,y:0}),[V,F]=(0,N.useState)(null),[H,K]=(0,N.useState)(null),[Y,z]=(0,N.useState)({x:0,y:0}),[k,Z]=(0,N.useState)(!1),[J,q]=(0,N.useState)([]),[X,$]=(0,N.useState)([]),[ee,et]=(0,N.useState)([]),[es,ei]=(0,N.useState)([]),[ea,en]=(0,N.useState)(null),[er,el]=(0,N.useState)(null),[eo,eA]=(0,N.useState)(null),[eh,ed]=(0,N.useState)(null),[ec,eg]=(0,N.useState)(!1),[eu,{stop:em}]=(0,D.Z)(ez(),{volume:.5,interrupt:!0,loop:!0}),[ex,{stop:ep}]=(0,D.Z)(eZ(),{volume:.5,interrupt:!0,loop:!0}),[ev,{stop:ey}]=(0,D.Z)(eq(),{volume:.5,interrupt:!0,loop:!0}),ew=(0,R.q_)({opacity:t?1:0,config:{duration:400},delay:200}),eE=null,ef=()=>{w.current.width=g.WIDTH,w.current.height=g.HEIGHT,b.fillRect(0,0,w.current.width,w.current.height),h(eo.getLife()),d(eo.getMoney()),c(eo.getScore()),l(er.getWave()),o(er.getLevel()),A(er.getWorldName()),ei(to(b,er)),$(tx(b,er)),et([]),M(!0);let e=new Image;e.src=er.getCurrentMap(),b.drawImage(e,0,0)},eS=e=>{if(en(e),e.getOccupied()){let t=J.filter(t=>t.getPosition().x===e.getPosition().x&&t.getPosition().y===e.getPosition().y);K(t[0]),F(E.UPGRADE_TOWER)}else F(E.NEW_TOWER)},eb=()=>{for(let e=0;e<es.length;e++){let t=es[e];if(Y.x>t.getPosition().x&&Y.x<t.getPosition().x+t.getSize()&&Y.y>t.getPosition().y&&Y.y<t.getPosition().y+t.getSize()){eE=t;break}}eE?(P({x:Y.x,y:Y.y}),eS(eE)):(P({x:-1e3,y:0}),F(E.NONE))},eC=async()=>{f.current=requestAnimationFrame(eC);let e=new Image;e.src=er.getCurrentMap(),await new Promise(t=>{e.onload=t}),b.drawImage(e,0,0),e_(),eR(),ej({x:0,y:0}),eM()},eN=()=>{let e=new Image;e.src=er.getCurrentMap(),b.drawImage(e,0,0),e_(),eR(),ej({x:0,y:0}),eM()},eR=()=>{for(let e=X.length-1;e>=0;e--){let t=X[e];t.update(),eD(t,e)}},ej=e=>{es.forEach(t=>t.update(e))},e_=()=>{J.forEach(e=>{e.update(),e.setTarget(null);let t=X.filter(t=>{let s=t.getPosition().x+t.getBounding().width/2-e.getPosition().x-e.getSize()/2,i=t.getPosition().y+t.getBounding().height/2-e.getPosition().y-e.getSize()/2;return Math.hypot(s,i)<t.getBounding().radius+e.getRadius()});e.setTarget(t[t.length-1]),eU(e,X)})},eU=(e,t)=>{for(let s=e.getBullets().length-1;s>=0;s--){let i=e.getBullet(s);i.update();let r=i.getEnemy().getPosition().x+i.getEnemy().getBounding().width/2-i.getPosition().x,l=i.getEnemy().getPosition().y+i.getEnemy().getBounding().height/2-i.getPosition().y,o=Math.hypot(r,l);if(o<i.getEnemy().getBounding().radius){if(i.getEnemy().decreaseHealth(e.getDamage()),ee.push(new e2(b,{x:i.getEnemy().getPosition().x,y:i.getEnemy().getPosition().y},e.getExplosionImg(),{max:e.getMaxExplosionFrames()})),e.getBullets().splice(s,1),n(),0>=i.getEnemy().getHealth()){let e=t.findIndex(e=>i.getEnemy()===e);if(e>-1){let s=t[e];t.splice(e,1),a(),tp(v,"".concat(s.getName()," has been eliminated!"),p.SUCCESS),eo.setMoney(eo.getMoney()+s.getMoney()),eo.setScore(eo.getScore()+s.getScore()),c(eo.getScore()),d(eo.getMoney())}}0===t.length&&eL()}}},eM=()=>{for(let e=ee.length-1;e>=0;e--){let t=ee[e];t.update(),t.getFrames().current>=t.getFrames().max-1&&ee.splice(e,1)}},eI=e=>{if(setTimeout(()=>{s(!0)},2e3),r(),W(!0),B(e),e===x.START&&ec)"Desert"===er.getWorldName()&&eu(),"Forest"===er.getWorldName()&&ex(),"Underworld"===er.getWorldName()&&ev(),W(!1),eC();else if((e===x.WAVE||e===x.LEVEL)&&ec){if(0>=eo.getLife())return;setTimeout(()=>{W(!1),eC(),e===x.WAVE?(l(er.getWave()),tp(v,"Next Wave!",p.SUCCESS)):e===x.LEVEL&&(d(eo.getMoney()),o(er.getLevel()),l(1),tp(v,"Next Level!",p.SUCCESS))},4e3);let t=3,s=setInterval(()=>{0===t?(clearInterval(s),O(3)):O(--t)},1e3)}else e===x.WORLD&&(em(),ep(),ey(),"Desert"===er.getWorldName()&&eu(),"Forest"===er.getWorldName()&&ex(),"Underworld"===er.getWorldName()&&ev(),l(1),o(1),A(er.getWorldName()),h(eo.getLife()),d(eo.getMoney()),tp(v,"Next World!",p.SUCCESS),cancelAnimationFrame(f.current));ed(null)},eB=()=>{em(),ep(),ey(),cancelAnimationFrame(f.current),er.setWave(1),er.setLevel(1),er.setWorld(1),l(1),o(1),A(er.getWorldName()),v.slice(0,v.length),y([])},eD=(e,t)=>{let s=er.getCurrentWorldData();e.getWaypointIndex()===s.waypoints.length-1&&(eo.setLife(eo.getLife()-1),tp(v,"Lost life!",p.FAILURE),h(eo.getLife()),X.splice(t,1),i(),0>=eo.getLife()&&(m(u.DEFEAT),eB()),0===X.length&&eL())},eL=()=>{er.getWave()>=er.getCurrentWorldData().enemies.length?eO():(ed(x.WAVE),er.setWave(er.getWave()+1),$(tx(b,er)))},eO=()=>{er.getLevel()>=er.getMaps().length?eW():(ed(x.LEVEL),er.setLevel(er.getLevel()+1),J.splice(0,J.length),q([]),eE=null,ei(to(b,er)),er.setWave(1),$(tx(b,er)),eo.setMoney(100*er.getWorld()+(er.getLevel()-1)*20),F(null))},eW=()=>{er.getWorld()>=er.getWorldsLength()?(m(u.WIN),eo.setScore(eo.getScore()+100*eo.getLife()),c(eo.getScore()),eB()):(er.setWave(1),er.setLevel(1),er.setWorld(er.getWorld()+1),J.splice(0,J.length),q([]),eE=null,eg(!1),ei(to(b,er)),$(tx(b,er)),eo.setLife(eo.getLife()+3),eo.setMoney(100*er.getWorld()),F(null))},eP=()=>{k?eC():cancelAnimationFrame(f.current),Z(!k),eN()};return(0,N.useEffect)(()=>{let e=w.current,t=e.getContext("2d");C(t),_(!0)},[]),(0,N.useEffect)(()=>{el(new tn),eA(new tr),j&&ef()},[j]),(0,N.useEffect)(()=>{if(U){let e=new Image;e.src=er.getCurrentMap(),e.onload=()=>{eI(x.START)}}},[U]),(0,N.useEffect)(()=>{U&&(ec?eI(x.START):eI(x.WORLD))},[ec]),(0,N.useEffect)(()=>{j&&eh&&(cancelAnimationFrame(f.current),eI(eh))},[eh]),(0,N.useEffect)(()=>{U&&k&&eN()},[J.length]),(0,S.jsxs)("div",{className:eT().canvasWrapper,children:[(0,S.jsx)("div",{className:eT().tacticalModeBtn,children:(0,S.jsx)("i",{onClick:eP,className:"fa fa-pause-circle-o","aria-hidden":"true"})}),(0,S.jsxs)(R.q.div,{style:ew,children:[k&&(0,S.jsx)("span",{className:eT().tacticalMode,children:"Tactical Mode is Active"}),T&&(0,S.jsx)(ty,{info:I,time:L,start:ec,setStart:eg}),V===E.NEW_TOWER&&(0,S.jsx)(tP,{contextMenuPosition:G,currentSubstructure:ea,setCurrentSubstructure:en,setContextMenu:F,context2D:b,towers:J,player:eo}),V===E.UPGRADE_TOWER&&(0,S.jsx)(tQ,{contextMenuPosition:G,setContextMenu:F,currentSubstructure:ea,towers:J,currentTower:H,player:eo,refreshAssets:eN}),(0,S.jsx)("canvas",{ref:w,className:eT().sceneCanvas,onClick:eb,onMouseMove:e=>tv({event:e,canvasRef:w,tacticalMode:k,setMousePosition:z,updateSubstructures:ej})})]}),!t&&(0,S.jsx)(e0,{})]})};var tF={src:"/_next/static/media/CtrlScroll.8fbed14e.png",height:620,width:1012,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAgklEQVR42mNAB1I7jzOBGQcucYHpurVbmBhufGZj+P+fCa5q71mmhM17FSx3HGVmYDh0RXHD3Jl+O2dOdmK49JpLe+cxFYY9p4U3zp1pbLTzmCjQqAu8GZt2G6Vv2m3NsPeMhNCu4zKsu04IAU2RZNh9UpgBGwBKMMnvOi7MvusECwB0CC/dIbOtEgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5},tH=s(9951),tK=s.n(tH);let tY=()=>{let e=(0,R.q_)({from:{opacity:0},to:{opacity:1},config:{duration:1e3}});return(0,S.jsxs)(R.q.div,{className:tK().scrollState,style:e,children:[(0,S.jsx)(Z(),{src:tF,alt:"Change resolution info"}),(0,S.jsx)("div",{children:"If the game doesn't display correctly, try this combination"})]})},tz=()=>{let{logs:e}=(0,N.useContext)(Q);return(0,S.jsx)("section",{className:eB().logs,children:[...e].reverse().map((e,t)=>{let{type:s,content:i,time:a}=e;return(0,S.jsx)("div",{className:eB().text,children:(0,S.jsxs)("div",{className:eB().row,children:[s===p.SUCCESS?(0,S.jsx)("span",{className:eB().success,children:i}):(0,S.jsx)("span",{className:eB().failure,children:i}),(0,S.jsx)("span",{className:eB().time,children:a})]})},t)})})},tk=()=>{let{wave:e,level:t,world:s,life:i,money:a,score:n}=(0,N.useContext)(Q),[r,l]=(0,N.useState)(!0),[o,A]=(0,N.useState)(!1),h=(0,R.q_)({from:{opacity:0},to:{opacity:1},leave:{opacity:0},config:{duration:400},delay:2e3}),d=(0,R.q_)({opacity:o?1:0,config:{duration:400},delay:100});return(0,N.useEffect)(()=>{setTimeout(()=>{l(!1)},2e3)},[]),(0,S.jsx)(S.Fragment,{children:r?(0,S.jsx)(tY,{}):(0,S.jsxs)(R.q.main,{className:eB().gameState,style:h,children:[(0,S.jsx)("section",{className:eB().playground,children:(0,S.jsx)(tV,{isLoaded:o,setIsLoaded:A})}),(0,S.jsxs)(R.q.section,{className:eB().graphicalInterface,style:d,children:[(0,S.jsxs)("header",{className:"".concat(eL().logo," ").concat(eL().logoMinimized),children:[(0,S.jsx)("div",{className:eL().imageWrapper,children:(0,S.jsx)(Z(),{src:j,alt:"Shield - element of Battle Towers logo"})}),(0,S.jsx)("h1",{children:"Battle Towers"})]}),(0,S.jsxs)("div",{className:eB().worldInfo,children:[(0,S.jsx)("h2",{children:"World"}),(0,S.jsx)("h3",{children:s}),(0,S.jsx)("h2",{children:"Level"}),(0,S.jsx)("h3",{children:t}),(0,S.jsx)("h2",{children:"Wave"}),(0,S.jsx)("h3",{children:e})]}),(0,S.jsxs)("div",{className:eB().levelInfo,children:[(0,S.jsxs)("div",{className:eB().life,children:[(0,S.jsx)(ej.G,{icon:e_.m6i,"aria-hidden":!0}),(0,S.jsx)("span",{children:i})]}),(0,S.jsxs)("div",{className:eB().money,children:[(0,S.jsx)(ej.G,{icon:e_.aLp,"aria-hidden":!0}),(0,S.jsx)("span",{children:a})]}),(0,S.jsx)("div",{className:eB().score,children:(0,S.jsxs)("h3",{children:["Score: ",(0,S.jsx)("span",{children:n})]})}),(0,S.jsx)(tz,{})]})]})]})})};var tZ=s(7794),tJ=s.n(tZ);let tq=e=>{let{gameResult:t}=e,{playGameOver:s,stopGameOver:i,playWin:a,stopWin:n,playMenu:r}=(0,N.useContext)(Q),l=(0,R.q_)({from:{opacity:0},to:{opacity:1},config:{duration:400}}),{score:o,setEndGame:A,setIsGameStart:h}=(0,N.useContext)(Q),[d,c]=(0,N.useState)(!1),g=()=>{A(u.UNPLAYED),n(),i()},m=()=>{h(!1),A(u.UNPLAYED),n(),i(),r()};return(0,N.useEffect)(()=>{t===u.WIN?a():t===u.DEFEAT&&s()},[t]),(0,N.useEffect)(()=>{o>Number(localStorage.getItem("score"))&&(localStorage.setItem("score","".concat(o)),c(!0))},[o]),(0,S.jsxs)(R.q.section,{className:tJ().endState,style:l,children:[t===u.WIN?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h2",{children:"Congratulations!"}),(0,S.jsxs)("h3",{children:["You finished the game with score: ",o," ",d&&(0,S.jsx)("span",{children:"New Best!"})]}),(0,S.jsx)("h3",{children:"Do you want to play again?"})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("h2",{children:"Game Over!"}),(0,S.jsxs)("h3",{children:["Your score: ",o," ",d&&(0,S.jsx)("span",{children:"New Best!"})]}),(0,S.jsx)("h3",{children:"Do you want to play again?"})]}),(0,S.jsxs)("div",{className:tJ().btns,children:[(0,S.jsx)(X,{name:"Restart",click:g}),(0,S.jsx)(X,{name:"Back to Menu",click:m})]})]})},tX=()=>{let[e,t]=(0,N.useState)(!1),{isGameStart:s,endGame:i,playMenu:a}=(0,N.useContext)(Q),n=(0,R.q_)({from:{opacity:0},to:{opacity:1}});return(0,N.useEffect)(()=>{a()},[]),(0,S.jsx)(R.q.div,{className:"wrapper",style:n,children:(0,S.jsxs)("div",{className:"game",children:[s?(0,S.jsx)(S.Fragment,{children:i===u.UNPLAYED&&(0,S.jsx)(tk,{})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("header",{className:eL().logo,children:[(0,S.jsx)("div",{className:eL().imageWrapper,children:(0,S.jsx)(Z(),{src:j,alt:"Shield - element of Battle Towers logo"})}),(0,S.jsx)("h1",{children:"Battle Towers"})]}),e?(0,S.jsx)(eM,{}):(0,S.jsx)(M,{setChangeState:t})]}),i!==u.UNPLAYED&&(0,S.jsx)(tq,{gameResult:i})]})})},t$=()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(C(),{children:[(0,S.jsx)("title",{children:"Battle Towers"}),(0,S.jsx)("meta",{name:"description",content:"A Tower Defense game powered by Next"}),(0,S.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,S.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,S.jsx)(V,{children:(0,S.jsx)(tX,{})})]});var t0=t$},2446:function(e){e.exports={battleJournal:"BattleJournal_battleJournal__Lh49U",active:"BattleJournal_active__p5A9K",modal:"BattleJournal_modal__hwkoh",close:"BattleJournal_close__P9weS",header:"BattleJournal_header__QaQvb",overlay:"BattleJournal_overlay__uG2S5",articles:"BattleJournal_articles__aUZ2F",content:"BattleJournal_content__gvq_s",rulesHeader:"BattleJournal_rulesHeader__DukFn",rulesParagraph:"BattleJournal_rulesParagraph__0mhF_",health:"BattleJournal_health__zI17N",money:"BattleJournal_money__sfyVS",goodLuck:"BattleJournal_goodLuck__DASmS",enemies:"BattleJournal_enemies__Tlsn6",cards:"BattleJournal_cards__iCFq7",card:"BattleJournal_card__K9X_c",imgWrapper:"BattleJournal_imgWrapper___WOrK",score:"BattleJournal_score__cJY4u",speed:"BattleJournal_speed__7sPq2",opponent:"BattleJournal_opponent__KhcoR"}},1653:function(e){e.exports={btnWrapper:"Button_btnWrapper__VvBsV",button:"Button_button__JYpWK",rightArrow:"Button_rightArrow__5jQcC",rightArrow8:"Button_rightArrow8__fTns1",leftArrow:"Button_leftArrow__w1vNy",leftArrow8:"Button_leftArrow8__qcOYi",leftTop:"Button_leftTop__JVpvH",changeColor8:"Button_changeColor8__c9CZc",lightEffect8:"Button_lightEffect8__xbirH",rightTop:"Button_rightTop__Wxb1S",rightBottom:"Button_rightBottom__9Gusd",leftBottom:"Button_leftBottom__SbLJy",corner:"Button_corner__oMnrp",clip:"Button_clip__nTUsJ",greenLight8:"Button_greenLight8__SO3uG",arrow:"Button_arrow__HPaEG"}},7794:function(e){e.exports={endState:"EndState_endState__wJVph",btns:"EndState_btns__xbYpL"}},8468:function(e){e.exports={gameState:"GameState_gameState__Yu5Gk",playground:"GameState_playground__MgQGE",graphicalInterface:"GameState_graphicalInterface__GWzhU",worldInfo:"GameState_worldInfo__B8ULK",levelInfo:"GameState_levelInfo__JdUt5",life:"GameState_life__lSUft",money:"GameState_money__XU5aw",score:"GameState_score__nlwxm",logs:"GameState_logs__VG4bW",time:"GameState_time__uz2td",row:"GameState_row__gec_H",failure:"GameState_failure__P3Epc",success:"GameState_success__0_F2d",info:"GameState_info__b30vJ"}},2820:function(e){e.exports={introState:"IntroState_introState__PJ5xb",introButton:"IntroState_introButton__bKS_C",visible:"IntroState_visible__Rq_dR",fadeOut:"IntroState_fadeOut__MIxjC",fadeIn:"IntroState_fadeIn__U6ROJ",attention:"IntroState_attention__Rai_4",cursor:"IntroState_cursor__9CVHD"}},4314:function(e){e.exports={loading:"Loading_loading__zl_IW",loaders:"Loading_loaders__QgeCT",animateColumn:"Loading_animateColumn__xc_RC",animateText:"Loading_animateText__d_9xX"}},2728:function(e){e.exports={logo:"Logo_logo__3GCgZ",moveHeader:"Logo_moveHeader__2uoyO",imageWrapper:"Logo_imageWrapper__Ee8tu",logoMinimized:"Logo_logoMinimized__lE7SM"}},2695:function(e){e.exports={btn:"MenuState_btn__JpfBk",menuState:"MenuState_menuState___CZqv",resolutionSuccess:"MenuState_resolutionSuccess__sSqea",resolutionError:"MenuState_resolutionError__wd8Cy",score:"MenuState_score__MPUP_",icons:"MenuState_icons__s_Q6P",powered:"MenuState_powered__eyjLX",journal:"MenuState_journal__Lyr2D",icon:"MenuState_icon__jdkwF"}},2278:function(e){e.exports={canvasWrapper:"Playground_canvasWrapper__CI93h",tacticalModeBtn:"Playground_tacticalModeBtn__7fA_R",myAnimation:"Playground_myAnimation__8GXR4",tacticalMode:"Playground_tacticalMode__xWSeL",transitionInfo:"Playground_transitionInfo__S5bsP",newTowerMenu:"Playground_newTowerMenu__5YvnF",newTower:"Playground_newTower__7cDVY",error:"Playground_error__cBZ_a",imageWrapper:"Playground_imageWrapper__mtF7i",infoWrapper:"Playground_infoWrapper__uDELi",health:"Playground_health__mUzlh",money:"Playground_money__h2iH5",speed:"Playground_speed__RZioS",upgradeTowerMenu:"Playground_upgradeTowerMenu__K2jI7",upgradeTower:"Playground_upgradeTower__FGhO7",maxLevel:"Playground_maxLevel__0lyCe",sceneCanvas:"Playground_sceneCanvas__ll97c"}},9951:function(e){e.exports={scrollState:"ScrollState_scrollState__rH1WO"}}},function(e){e.O(0,[976,876,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);